<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en" lang="en" data-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>src/world</title>

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- CSS -->
<link rel="stylesheet" type="text/css" href="nimdoc.out.css?v=2.2.6">

<!-- JS -->
<script type="text/javascript" src="dochack.js?v=2.2.6"></script>
</head>
<body>
  <div class="document" id="documentId">
    <div class="container">
      <h1 class="title">src/world</h1>
      <div class="row">
  <div class="three columns">
    <div class="theme-select-wrapper">
      <label for="theme-select">Theme:&nbsp;</label>
      <select id="theme-select" onchange="setTheme(this.value)">
        <option value="auto">ðŸŒ— Match OS</option>
        <option value="dark">ðŸŒ‘ Dark</option>
        <option value="light">ðŸŒ• Light</option>
      </select>
    </div>
    <div id="global-links">
      <ul class="simple">
        <li><a id="indexLink" href="theindex.html">Index</a></li>
      </ul>
    </div>
    <div id="searchInputDiv">
      Search: <input type="search" id="searchInput" oninput="search()"/>
    </div>
    <div>
      Group by:
      <select onchange="groupBy(this.value)">
        <option value="section">Section</option>
        <option value="type">Type</option>
      </select>
    </div>
    <ul class="simple simple-toc" id="toc-list">
  <li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#7" id="57">Types</a></summary>
    <ul class="simple simple-toc-section">
      <li><a class="reference" href="#World" title="World = object">World</a></li>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#12" id="62">Procs</a></summary>
    <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">==
  <li><a class="reference" href="#%3D%3D%2CComponentId%2CComponentId" title="`==`(a, b: ComponentId): bool">`==`(a, b: ComponentId): bool</a></li>

</ul>
<ul class="simple nested-toc-section">addComponent
  <li><a class="reference" href="#addComponent%2CWorld%2CId%2CT" title="addComponent[T](world: var World; id: Id; component: T)">addComponent[T](world: var World; id: Id; component: T)</a></li>

</ul>
<ul class="simple nested-toc-section">addEntity
  <li><a class="reference" href="#addEntity%2CWorld%2CT" title="addEntity[T: tuple](world: var World; components: T): Id">addEntity[T: tuple](world: var World; components: T): Id</a></li>

</ul>
<ul class="simple nested-toc-section">addEntityWithSpecificId
  <li><a class="reference" href="#addEntityWithSpecificId%2CWorld%2CId" title="addEntityWithSpecificId(world: var World; id: Id)">addEntityWithSpecificId(world: var World; id: Id)</a></li>

</ul>
<ul class="simple nested-toc-section">cleanupEmptyArchetypes
  <li><a class="reference" href="#cleanupEmptyArchetypes%2CWorld" title="cleanupEmptyArchetypes(world: var World)">cleanupEmptyArchetypes(world: var World)</a></li>

</ul>
<ul class="simple nested-toc-section">componentIdFrom
  <li><a class="reference" href="#componentIdFrom%2CWorld%2Ctypedesc%5BT%5D" title="componentIdFrom[T](world: var World; desc: typedesc[T]): ComponentId">componentIdFrom[T](world: var World; desc: typedesc[T]): ComponentId</a></li>

</ul>
<ul class="simple nested-toc-section">hasComponent
  <li><a class="reference" href="#hasComponent%2CWorld%2CId%2Ctypedesc%5BT%5D" title="hasComponent[T](world: var World; id: Id; compDesc: typedesc[T]): bool">hasComponent[T](world: var World; id: Id; compDesc: typedesc[T]): bool</a></li>

</ul>
<ul class="simple nested-toc-section">hash
  <li><a class="reference" href="#hash%2CArchetypeId" title="hash(id: ArchetypeId): Hash">hash(id: ArchetypeId): Hash</a></li>

</ul>
<ul class="simple nested-toc-section">readComponent
  <li><a class="reference" href="#readComponent%2CWorld%2CId%2Ctypedesc%5BT%5D" title="readComponent[T](world: var World; id: Id; compDesc: typedesc[T]): T">readComponent[T](world: var World; id: Id; compDesc: typedesc[T]): T</a></li>

</ul>
<ul class="simple nested-toc-section">readComponents
  <li><a class="reference" href="#readComponents%2CWorld%2CId%2Ctypedesc%5BT%5D" title="readComponents[T: tuple](world: var World; id: Id; tup: typedesc[T]): T">readComponents[T: tuple](world: var World; id: Id; tup: typedesc[T]): T</a></li>

</ul>
<ul class="simple nested-toc-section">removeComponent
  <li><a class="reference" href="#removeComponent%2CWorld%2CId%2Ctypedesc%5BT%5D" title="removeComponent[T](world: var World; id: Id; compDesc: typedesc[T])">removeComponent[T](world: var World; id: Id; compDesc: typedesc[T])</a></li>

</ul>
<ul class="simple nested-toc-section">removeEntity
  <li><a class="reference" href="#removeEntity%2CWorld%2CId" title="removeEntity(world: var World; id: Id)">removeEntity(world: var World; id: Id)</a></li>

</ul>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#15" id="65">Iterators</a></summary>
    <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">archetypes
  <li><a class="reference" href="#archetypes.i%2CWorld" title="archetypes(world: var World): Archetype">archetypes(world: var World): Archetype</a></li>

</ul>
<ul class="simple nested-toc-section">component
  <li><a class="reference" href="#component.i%2CWorld%2CId%2Ctypedesc%5BWrite%5BT%5D%5D" title="component[T](world: var World; id: Id; compDesc: typedesc[Write[T]]): var T">component[T](world: var World; id: Id; compDesc: typedesc[Write[T]]): var T</a></li>

</ul>
<ul class="simple nested-toc-section">components
  <li><a class="reference" href="#components.i%2CWorld%2CId%2Ctypedesc%5BT%5D" title="components[T: tuple](world: var World; id: Id; tup: typedesc[T]): tup.accessTuple">components[T: tuple](world: var World; id: Id; tup: typedesc[T]): tup.accessTuple</a></li>

</ul>
<ul class="simple nested-toc-section">query
  <li><a class="reference" href="#query.i%2CWorld%2CQuery%5BT%3A%20tuple%5D" title="query[T: tuple](world: var World; query: var Query[T]): T.accessTuple">query[T: tuple](world: var World; query: var Query[T]): T.accessTuple</a></li>

</ul>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#17" id="67">Macros</a></summary>
    <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section">typeHash
  <li><a class="reference" href="#typeHash.m%2Ctypedesc%5BT%5D" title="typeHash[T](typ: typedesc[T]): int">typeHash[T](typ: typedesc[T]): int</a></li>

</ul>

    </ul>
  </details>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
    <a href="git@github.com:RowDaBoat/vecs.git/tree/version-2-2/src/world.nim#L1" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="git@github.com:RowDaBoat/vecs.git/edit/devel/src/world.nim#L1" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

    <div id="tocRoot"></div>
    
    <p class="module-desc"><tt class="docutils literal"><span class="pre"><span class="Identifier">vecs</span></span></tt> is a free open source ECS library for Nim.</p>
    <div class="section" id="6">
  <h1><a class="toc-backref" href="#6">Imports</a></h1>
  <dl class="item">
    <a class="reference external" href="archetype.html">archetype</a>, <a class="reference external" href="entity.html">entity</a>, <a class="reference external" href="components.html">components</a>, <a class="reference external" href="ecsSeq.html">ecsSeq</a>, <a class="reference external" href="queries.html">queries</a>
  </dl>
</div>
<div class="section" id="7">
  <h1><a class="toc-backref" href="#7">Types</a></h1>
  <dl class="item">
    <div id="World">
  <dt><pre><a href="world.html#World"><span class="Identifier">World</span></a> <span class="Other">=</span> <span class="Keyword">object</span></pre></dt>
  <dd>
    
    
    <a href="git@github.com:RowDaBoat/vecs.git/tree/version-2-2/src/world.nim#L11" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="git@github.com:RowDaBoat/vecs.git/edit/devel/src/world.nim#L11" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

  </dl>
</div>
<div class="section" id="12">
  <h1><a class="toc-backref" href="#12">Procs</a></h1>
  <dl class="item">
    <div id="==-procs-all">
  <div id="==,ComponentId,ComponentId">
  <dt><pre><span class="Keyword">proc</span> <a href="#%3D%3D%2CComponentId%2CComponentId"><span class="Identifier">`==`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">,</span> <span class="Identifier">b</span><span class="Other">:</span> <a href="archetype.html#ComponentId"><span class="Identifier">ComponentId</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span class="Identifier">borrow</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    <a href="git@github.com:RowDaBoat/vecs.git/tree/version-2-2/src/world.nim#L23" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="git@github.com:RowDaBoat/vecs.git/edit/devel/src/world.nim#L23" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="addComponent-procs-all">
  <div id="addComponent,World,Id,T">
  <dt><pre><span class="Keyword">proc</span> <a href="#addComponent%2CWorld%2CId%2CT"><span class="Identifier">addComponent</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="world.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">id</span><span class="Other">:</span> <a href="components.html#Id"><span class="Identifier">Id</span></a><span class="Other">;</span> <span class="Identifier">component</span><span class="Other">:</span> <span class="Identifier">T</span><span class="Other">)</span></pre></dt>
  <dd>
    
    Add a component to an entity
<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">examples</span>
<span class="Keyword">import</span> <span class="Identifier">show</span>

<span class="Keyword">var</span> <span class="Identifier">w</span> <span class="Operator">=</span> <span class="Identifier">World</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Keyword">let</span> <span class="Identifier">marcus</span> <span class="Operator">=</span> <span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">addEntity</span> <span class="Punctuation">(</span><span class="Identifier">Id</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Identifier">Character</span><span class="Punctuation">(</span><span class="Identifier">name</span><span class="Punctuation">:</span> <span class="StringLit">&quot;Marcus&quot;</span><span class="Punctuation">)</span><span class="Punctuation">,</span><span class="Punctuation">)</span>
<span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">addComponent</span><span class="Punctuation">(</span><span class="Identifier">marcus</span><span class="Punctuation">,</span> <span class="Identifier">Health</span><span class="Punctuation">(</span><span class="Identifier">health</span><span class="Punctuation">:</span> <span class="DecNumber">100</span><span class="Punctuation">,</span> <span class="Identifier">maxHealth</span><span class="Punctuation">:</span> <span class="DecNumber">100</span><span class="Punctuation">)</span><span class="Punctuation">)</span>

<span class="Identifier">assert</span> <span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">hasComponent</span><span class="Punctuation">(</span><span class="Identifier">marcus</span><span class="Punctuation">,</span> <span class="Identifier">Health</span><span class="Punctuation">)</span> <span class="Operator">==</span> <span class="Identifier">true</span></pre>
    <a href="git@github.com:RowDaBoat/vecs.git/tree/version-2-2/src/world.nim#L372" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="git@github.com:RowDaBoat/vecs.git/edit/devel/src/world.nim#L372" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="addEntity-procs-all">
  <div id="addEntity,World,T">
  <dt><pre><span class="Keyword">proc</span> <a href="#addEntity%2CWorld%2CT"><span class="Identifier">addEntity</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Keyword">tuple</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="world.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">components</span><span class="Other">:</span> <span class="Identifier">T</span><span class="Other">)</span><span class="Other">:</span> <a href="components.html#Id"><span class="Identifier">Id</span></a> {.<span class="Identifier">discardable</span>.}</pre></dt>
  <dd>
    
    Add an entity with components, use the special <tt class="docutils literal"><span class="pre"><span class="Identifier">Id</span></span></tt> component to allow getting the entity's id in queries. <tt class="docutils literal"><span class="pre"><span class="Identifier">addEntity</span></span></tt> also returns the entity's <tt class="docutils literal"><span class="pre"><span class="Identifier">Id</span></span></tt>.
<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">examples</span>

<span class="Keyword">var</span> <span class="Identifier">w</span> <span class="Operator">=</span> <span class="Identifier">World</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Keyword">let</span> <span class="Identifier">marcus</span> <span class="Operator">=</span> <span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">addEntity</span> <span class="Punctuation">(</span><span class="Identifier">Id</span><span class="Punctuation">(</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Identifier">Character</span><span class="Punctuation">(</span><span class="Identifier">name</span><span class="Punctuation">:</span> <span class="StringLit">&quot;Marcus&quot;</span><span class="Punctuation">)</span><span class="Punctuation">)</span>

<span class="Identifier">assert</span> <span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">readComponent</span><span class="Punctuation">(</span><span class="Identifier">marcus</span><span class="Punctuation">,</span> <span class="Identifier">Id</span><span class="Punctuation">)</span> <span class="Operator">==</span> <span class="Identifier">marcus</span>
<span class="Identifier">assert</span> <span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">readComponent</span><span class="Punctuation">(</span><span class="Identifier">marcus</span><span class="Punctuation">,</span> <span class="Identifier">Character</span><span class="Punctuation">)</span><span class="Operator">.</span><span class="Identifier">name</span> <span class="Operator">==</span> <span class="StringLit">&quot;Marcus&quot;</span></pre>
    <a href="git@github.com:RowDaBoat/vecs.git/tree/version-2-2/src/world.nim#L435" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="git@github.com:RowDaBoat/vecs.git/edit/devel/src/world.nim#L435" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="addEntityWithSpecificId-procs-all">
  <div id="addEntityWithSpecificId,World,Id">
  <dt><pre><span class="Keyword">proc</span> <a href="#addEntityWithSpecificId%2CWorld%2CId"><span class="Identifier">addEntityWithSpecificId</span></a><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="world.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">id</span><span class="Other">:</span> <a href="components.html#Id"><span class="Identifier">Id</span></a><span class="Other">)</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Add an entity with a given id. The entity will have a single Id component. This is useful mostly for deserialization. <strong>Note:</strong> Any id above 0 is valid, however a greater id will allocate more memory.
<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">examples</span>

<span class="Keyword">var</span> <span class="Identifier">w</span> <span class="Operator">=</span> <span class="Identifier">World</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">addEntityWithSpecificId</span><span class="Punctuation">(</span><span class="Identifier">Id</span><span class="Punctuation">(</span><span class="Identifier">id</span><span class="Punctuation">:</span> <span class="DecNumber">10</span><span class="Punctuation">)</span><span class="Punctuation">)</span></pre>
    <a href="git@github.com:RowDaBoat/vecs.git/tree/version-2-2/src/world.nim#L456" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="git@github.com:RowDaBoat/vecs.git/edit/devel/src/world.nim#L456" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="cleanupEmptyArchetypes-procs-all">
  <div id="cleanupEmptyArchetypes,World">
  <dt><pre><span class="Keyword">proc</span> <a href="#cleanupEmptyArchetypes%2CWorld"><span class="Identifier">cleanupEmptyArchetypes</span></a><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="world.html#World"><span class="Identifier">World</span></a><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">KeyError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Cleans up empty archetypes. This is useful mostly for deserialization routines. Removing archetypes forces caches from queries to be rebuilt.
    <a href="git@github.com:RowDaBoat/vecs.git/tree/version-2-2/src/world.nim#L539" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="git@github.com:RowDaBoat/vecs.git/edit/devel/src/world.nim#L539" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="componentIdFrom-procs-all">
  <div id="componentIdFrom,World,typedesc[T]">
  <dt><pre><span class="Keyword">proc</span> <a href="#componentIdFrom%2CWorld%2Ctypedesc%5BT%5D"><span class="Identifier">componentIdFrom</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="world.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">desc</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="archetype.html#ComponentId"><span class="Identifier">ComponentId</span></a></pre></dt>
  <dd>
    
    Â Get the ComponentId for a given component type. This is mostly useful to identify the components of an archetype.
    <a href="git@github.com:RowDaBoat/vecs.git/tree/version-2-2/src/world.nim#L224" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="git@github.com:RowDaBoat/vecs.git/edit/devel/src/world.nim#L224" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="hasComponent-procs-all">
  <div id="hasComponent,World,Id,typedesc[T]">
  <dt><pre><span class="Keyword">proc</span> <a href="#hasComponent%2CWorld%2CId%2Ctypedesc%5BT%5D"><span class="Identifier">hasComponent</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="world.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">id</span><span class="Other">:</span> <a href="components.html#Id"><span class="Identifier">Id</span></a><span class="Other">;</span> <span class="Identifier">compDesc</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
  <dd>
    
    Check if an entity has a given component.
<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">examples</span>

<span class="Keyword">var</span> <span class="Identifier">w</span> <span class="Operator">=</span> <span class="Identifier">World</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Keyword">let</span> <span class="Identifier">marcus</span> <span class="Operator">=</span> <span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">addEntity</span> <span class="Punctuation">(</span><span class="Identifier">Character</span><span class="Punctuation">(</span><span class="Identifier">name</span><span class="Punctuation">:</span> <span class="StringLit">&quot;Marcus&quot;</span><span class="Punctuation">)</span><span class="Punctuation">,</span><span class="Punctuation">)</span>
<span class="Identifier">assert</span> <span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">hasComponent</span><span class="Punctuation">(</span><span class="Identifier">marcus</span><span class="Punctuation">,</span> <span class="Identifier">Character</span><span class="Punctuation">)</span> <span class="Operator">==</span> <span class="Identifier">true</span>
<span class="Identifier">assert</span> <span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">hasComponent</span><span class="Punctuation">(</span><span class="Identifier">marcus</span><span class="Punctuation">,</span> <span class="Identifier">Health</span><span class="Punctuation">)</span> <span class="Operator">==</span> <span class="Identifier">false</span></pre>
    <a href="git@github.com:RowDaBoat/vecs.git/tree/version-2-2/src/world.nim#L235" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="git@github.com:RowDaBoat/vecs.git/edit/devel/src/world.nim#L235" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="hash-procs-all">
  <div id="hash,ArchetypeId">
  <dt><pre><span class="Keyword">proc</span> <a href="#hash%2CArchetypeId"><span class="Identifier">hash</span></a><span class="Other">(</span><span class="Identifier">id</span><span class="Other">:</span> <a href="archetype.html#ArchetypeId"><span class="Identifier">ArchetypeId</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Hash</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    <a href="git@github.com:RowDaBoat/vecs.git/tree/version-2-2/src/world.nim#L19" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="git@github.com:RowDaBoat/vecs.git/edit/devel/src/world.nim#L19" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="readComponent-procs-all">
  <div id="readComponent,World,Id,typedesc[T]">
  <dt><pre><span class="Keyword">proc</span> <a href="#readComponent%2CWorld%2CId%2Ctypedesc%5BT%5D"><span class="Identifier">readComponent</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="world.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">id</span><span class="Other">:</span> <a href="components.html#Id"><span class="Identifier">Id</span></a><span class="Other">;</span> <span class="Identifier">compDesc</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">T</span></pre></dt>
  <dd>
    
    Directly read a single component of an entity.
<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">examples</span>

<span class="Keyword">var</span> <span class="Identifier">w</span> <span class="Operator">=</span> <span class="Identifier">World</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Keyword">let</span> <span class="Identifier">marcus</span> <span class="Operator">=</span> <span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">addEntity</span> <span class="Punctuation">(</span><span class="Identifier">Character</span><span class="Punctuation">(</span><span class="Identifier">name</span><span class="Punctuation">:</span> <span class="StringLit">&quot;Marcus&quot;</span><span class="Punctuation">)</span><span class="Punctuation">,</span><span class="Punctuation">)</span>
<span class="Keyword">let</span> <span class="Identifier">character</span> <span class="Operator">=</span> <span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">readComponent</span><span class="Punctuation">(</span><span class="Identifier">marcus</span><span class="Punctuation">,</span> <span class="Identifier">Character</span><span class="Punctuation">)</span>
<span class="Identifier">assert</span> <span class="Identifier">character</span><span class="Operator">.</span><span class="Identifier">name</span> <span class="Operator">==</span> <span class="StringLit">&quot;Marcus&quot;</span></pre>
    <a href="git@github.com:RowDaBoat/vecs.git/tree/version-2-2/src/world.nim#L252" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="git@github.com:RowDaBoat/vecs.git/edit/devel/src/world.nim#L252" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="readComponents-procs-all">
  <div id="readComponents,World,Id,typedesc[T]">
  <dt><pre><span class="Keyword">proc</span> <a href="#readComponents%2CWorld%2CId%2Ctypedesc%5BT%5D"><span class="Identifier">readComponents</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Keyword">tuple</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="world.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">id</span><span class="Other">:</span> <a href="components.html#Id"><span class="Identifier">Id</span></a><span class="Other">;</span> <span class="Identifier">tup</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">T</span></pre></dt>
  <dd>
    
    Direct read access to multiple components of an entity. The <tt class="docutils literal"><span class="pre"><span class="Identifier">T</span></span></tt> tuple must contain no <tt class="docutils literal"><span class="pre"><span class="Identifier">Write</span></span></tt>, <tt class="docutils literal"><span class="pre"><span class="Identifier">Opt</span></span></tt>, or <tt class="docutils literal"><span class="pre"><span class="Keyword">Not</span></span></tt> accessors.
<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">examples</span>

<span class="Keyword">var</span> <span class="Identifier">w</span> <span class="Operator">=</span> <span class="Identifier">World</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Keyword">let</span> <span class="Identifier">marcus</span> <span class="Operator">=</span> <span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">addEntity</span> <span class="Punctuation">(</span><span class="Identifier">Character</span><span class="Punctuation">(</span><span class="Identifier">name</span><span class="Punctuation">:</span> <span class="StringLit">&quot;Marcus&quot;</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Identifier">Weapon</span><span class="Punctuation">(</span><span class="Identifier">name</span><span class="Punctuation">:</span> <span class="StringLit">&quot;Sword&quot;</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Identifier">Spellbook</span><span class="Punctuation">(</span><span class="Identifier">spells</span><span class="Punctuation">:</span> <span class="Operator">@</span><span class="Punctuation">[</span><span class="StringLit">&quot;Fireball&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;Ice Storm&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;Lightning&quot;</span><span class="Punctuation">]</span><span class="Punctuation">)</span><span class="Punctuation">)</span>
<span class="Keyword">let</span> <span class="Punctuation">(</span><span class="Identifier">weapon</span><span class="Punctuation">,</span> <span class="Identifier">spellbook</span><span class="Punctuation">)</span> <span class="Operator">=</span> <span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">readComponents</span><span class="Punctuation">(</span><span class="Identifier">marcus</span><span class="Punctuation">,</span> <span class="Punctuation">(</span><span class="Identifier">Weapon</span><span class="Punctuation">,</span> <span class="Identifier">Spellbook</span><span class="Punctuation">)</span><span class="Punctuation">)</span>
<span class="Identifier">assert</span> <span class="Identifier">weapon</span><span class="Operator">.</span><span class="Identifier">name</span> <span class="Operator">==</span> <span class="StringLit">&quot;Sword&quot;</span>
<span class="Identifier">assert</span> <span class="Identifier">spellbook</span><span class="Operator">.</span><span class="Identifier">spells</span> <span class="Operator">==</span> <span class="Operator">@</span><span class="Punctuation">[</span><span class="StringLit">&quot;Fireball&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;Ice Storm&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;Lightning&quot;</span><span class="Punctuation">]</span></pre>
    <a href="git@github.com:RowDaBoat/vecs.git/tree/version-2-2/src/world.nim#L303" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="git@github.com:RowDaBoat/vecs.git/edit/devel/src/world.nim#L303" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="removeComponent-procs-all">
  <div id="removeComponent,World,Id,typedesc[T]">
  <dt><pre><span class="Keyword">proc</span> <a href="#removeComponent%2CWorld%2CId%2Ctypedesc%5BT%5D"><span class="Identifier">removeComponent</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="world.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">id</span><span class="Other">:</span> <a href="components.html#Id"><span class="Identifier">Id</span></a><span class="Other">;</span> <span class="Identifier">compDesc</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">)</span></pre></dt>
  <dd>
    
    Remove a component from an entity
<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">examples</span>

<span class="Keyword">var</span> <span class="Identifier">w</span> <span class="Operator">=</span> <span class="Identifier">World</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Keyword">let</span> <span class="Identifier">marcus</span> <span class="Operator">=</span> <span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">addEntity</span> <span class="Punctuation">(</span><span class="Identifier">Character</span><span class="Punctuation">(</span><span class="Identifier">name</span><span class="Punctuation">:</span> <span class="StringLit">&quot;Marcus&quot;</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Identifier">Weapon</span><span class="Punctuation">(</span><span class="Identifier">name</span><span class="Punctuation">:</span> <span class="StringLit">&quot;Sword&quot;</span><span class="Punctuation">)</span><span class="Punctuation">)</span>
<span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">removeComponent</span><span class="Punctuation">(</span><span class="Identifier">marcus</span><span class="Punctuation">,</span> <span class="Identifier">Weapon</span><span class="Punctuation">)</span>
<span class="Identifier">assert</span> <span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">hasComponent</span><span class="Punctuation">(</span><span class="Identifier">marcus</span><span class="Punctuation">,</span> <span class="Identifier">Weapon</span><span class="Punctuation">)</span> <span class="Operator">==</span> <span class="Identifier">false</span></pre>
    <a href="git@github.com:RowDaBoat/vecs.git/tree/version-2-2/src/world.nim#L409" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="git@github.com:RowDaBoat/vecs.git/edit/devel/src/world.nim#L409" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="removeEntity-procs-all">
  <div id="removeEntity,World,Id">
  <dt><pre><span class="Keyword">proc</span> <a href="#removeEntity%2CWorld%2CId"><span class="Identifier">removeEntity</span></a><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="world.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">id</span><span class="Other">:</span> <a href="components.html#Id"><span class="Identifier">Id</span></a><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Remove an entity.
<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">examples</span>

<span class="Keyword">var</span> <span class="Identifier">w</span> <span class="Operator">=</span> <span class="Identifier">World</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Keyword">let</span> <span class="Identifier">marcus</span> <span class="Operator">=</span> <span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">addEntity</span> <span class="Punctuation">(</span><span class="Identifier">Character</span><span class="Punctuation">(</span><span class="Identifier">name</span><span class="Punctuation">:</span> <span class="StringLit">&quot;Marcus&quot;</span><span class="Punctuation">)</span><span class="Punctuation">,</span><span class="Punctuation">)</span>
<span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">removeEntity</span><span class="Punctuation">(</span><span class="Identifier">marcus</span><span class="Punctuation">)</span>

<span class="Keyword">var</span> <span class="Identifier">query</span><span class="Punctuation">:</span> <span class="Identifier">Query</span><span class="Punctuation">[</span><span class="Punctuation">(</span><span class="Identifier">Character</span><span class="Punctuation">,</span><span class="Punctuation">)</span><span class="Punctuation">]</span>
<span class="Keyword">for</span> <span class="Identifier">character</span> <span class="Keyword">in</span> <span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">query</span><span class="Punctuation">(</span><span class="Identifier">query</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">raiseAssert</span> <span class="StringLit">&quot;No character should exist.&quot;</span></pre>
    <a href="git@github.com:RowDaBoat/vecs.git/tree/version-2-2/src/world.nim#L474" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="git@github.com:RowDaBoat/vecs.git/edit/devel/src/world.nim#L474" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>

  </dl>
</div>
<div class="section" id="15">
  <h1><a class="toc-backref" href="#15">Iterators</a></h1>
  <dl class="item">
    <div id="archetypes-iterators-all">
  <div id="archetypes.i,World">
  <dt><pre><span class="Keyword">iterator</span> <a href="#archetypes.i%2CWorld"><span class="Identifier">archetypes</span></a><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="world.html#World"><span class="Identifier">World</span></a><span class="Other">)</span><span class="Other">:</span> <a href="archetype.html#Archetype"><span class="Identifier">Archetype</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">KeyError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Iterate through all the world's archetypes.</p>
<p>This is mostly useful just to implement custom queries. To use Archetypes, the archetype module must be imported.</p>

    <a href="git@github.com:RowDaBoat/vecs.git/tree/version-2-2/src/world.nim#L216" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="git@github.com:RowDaBoat/vecs.git/edit/devel/src/world.nim#L216" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="component-iterators-all">
  <div id="component.i,World,Id,typedesc[Write[T]]">
  <dt><pre><span class="Keyword">iterator</span> <a href="#component.i%2CWorld%2CId%2Ctypedesc%5BWrite%5BT%5D%5D"><span class="Identifier">component</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="world.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">id</span><span class="Other">:</span> <a href="components.html#Id"><span class="Identifier">Id</span></a><span class="Other">;</span> <span class="Identifier">compDesc</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">[</span><a href="queries.html#Write"><span class="Identifier">Write</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">T</span></pre></dt>
  <dd>
    
    Write access to a single component of an entity. An iterator is used to ensure fast and safe access to the component.
<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">examples</span>

<span class="Keyword">var</span> <span class="Identifier">w</span> <span class="Operator">=</span> <span class="Identifier">World</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Keyword">let</span> <span class="Identifier">marcus</span> <span class="Operator">=</span> <span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">addEntity</span> <span class="Punctuation">(</span><span class="Identifier">Character</span><span class="Punctuation">(</span><span class="Identifier">name</span><span class="Punctuation">:</span> <span class="StringLit">&quot;Marcus&quot;</span><span class="Punctuation">)</span><span class="Punctuation">,</span><span class="Punctuation">)</span>

<span class="Keyword">for</span> <span class="Identifier">character</span> <span class="Keyword">in</span> <span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">component</span><span class="Punctuation">(</span><span class="Identifier">marcus</span><span class="Punctuation">,</span> <span class="Identifier">Write</span><span class="Punctuation">[</span><span class="Identifier">Character</span><span class="Punctuation">]</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">character</span><span class="Operator">.</span><span class="Identifier">name</span> <span class="Operator">=</span> <span class="StringLit">&quot;Mark&quot;</span>

<span class="Identifier">assert</span> <span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">readComponent</span><span class="Punctuation">(</span><span class="Identifier">marcus</span><span class="Punctuation">,</span> <span class="Identifier">Character</span><span class="Punctuation">)</span><span class="Operator">.</span><span class="Identifier">name</span> <span class="Operator">==</span> <span class="StringLit">&quot;Mark&quot;</span></pre>
    <a href="git@github.com:RowDaBoat/vecs.git/tree/version-2-2/src/world.nim#L276" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="git@github.com:RowDaBoat/vecs.git/edit/devel/src/world.nim#L276" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="components-iterators-all">
  <div id="components.i,World,Id,typedesc[T]">
  <dt><pre><span class="Keyword">iterator</span> <a href="#components.i%2CWorld%2CId%2Ctypedesc%5BT%5D"><span class="Identifier">components</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Keyword">tuple</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="world.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">id</span><span class="Other">:</span> <a href="components.html#Id"><span class="Identifier">Id</span></a><span class="Other">;</span> <span class="Identifier">tup</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">tup</span><span class="Other">.</span><span class="Identifier">accessTuple</span></pre></dt>
  <dd>
    
    Read, write, and optional access to components of an entity. An iterator is used to ensure fast and safe access to the components. <strong>Accessors:</strong><ul class="simple"><li><strong>Read access</strong>: just use the component's type</li>
<li><strong>Write access</strong>: use <tt class="docutils literal"><span class="pre"><span class="Identifier">Write</span><span class="Punctuation">[</span><span class="Identifier">Component</span><span class="Punctuation">]</span></span></tt></li>
<li><strong>Optional access</strong>: use <tt class="docutils literal"><span class="pre"><span class="Identifier">Opt</span><span class="Punctuation">[</span><span class="Identifier">Component</span><span class="Punctuation">]</span></span></tt>, availability can be checked with <tt class="docutils literal"><span class="pre"><span class="Identifier">isSomething</span></span></tt> or <tt class="docutils literal"><span class="pre"><span class="Identifier">isNothing</span></span></tt></li>
<li><strong>Not access</strong>: use <tt class="docutils literal"><span class="pre"><span class="Keyword">Not</span><span class="Punctuation">[</span><span class="Identifier">Component</span><span class="Punctuation">]</span></span></tt>, to avoid access if the entity contains <tt class="docutils literal"><span class="pre"><span class="Identifier">Component</span></span></tt></li>
</ul>

<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">examples</span>

<span class="Keyword">var</span> <span class="Identifier">w</span> <span class="Operator">=</span> <span class="Identifier">World</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Keyword">let</span> <span class="Identifier">marcus</span> <span class="Operator">=</span> <span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">addEntity</span> <span class="Punctuation">(</span><span class="Identifier">Character</span><span class="Punctuation">(</span><span class="Identifier">name</span><span class="Punctuation">:</span> <span class="StringLit">&quot;Marcus&quot;</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Identifier">Weapon</span><span class="Punctuation">(</span><span class="Identifier">name</span><span class="Punctuation">:</span> <span class="StringLit">&quot;Sword&quot;</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Identifier">Spellbook</span><span class="Punctuation">(</span><span class="Identifier">spells</span><span class="Punctuation">:</span> <span class="Operator">@</span><span class="Punctuation">[</span><span class="StringLit">&quot;Fireball&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;Ice Storm&quot;</span><span class="Punctuation">,</span> <span class="StringLit">&quot;Lightning&quot;</span><span class="Punctuation">]</span><span class="Punctuation">)</span><span class="Punctuation">)</span>

<span class="Keyword">for</span> <span class="Punctuation">(</span><span class="Identifier">character</span><span class="Punctuation">,</span> <span class="Identifier">weapon</span><span class="Punctuation">,</span> <span class="Identifier">armor</span><span class="Punctuation">,</span> <span class="Identifier">spellbook</span><span class="Punctuation">)</span> <span class="Keyword">in</span> <span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">components</span><span class="Punctuation">(</span><span class="Identifier">marcus</span><span class="Punctuation">,</span> <span class="Punctuation">(</span><span class="Identifier">Character</span><span class="Punctuation">,</span> <span class="Identifier">Write</span><span class="Punctuation">[</span><span class="Identifier">Weapon</span><span class="Punctuation">]</span><span class="Punctuation">,</span> <span class="Identifier">Opt</span><span class="Punctuation">[</span><span class="Identifier">Armor</span><span class="Punctuation">]</span><span class="Punctuation">,</span> <span class="Identifier">Opt</span><span class="Punctuation">[</span><span class="Identifier">Spellbook</span><span class="Punctuation">]</span><span class="Punctuation">)</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">echo</span> <span class="Identifier">character</span><span class="Operator">.</span><span class="Identifier">name</span>
  <span class="Identifier">weapon</span><span class="Operator">.</span><span class="Identifier">attack</span> <span class="Operator">=</span> <span class="DecNumber">10</span>

  <span class="Identifier">armor</span><span class="Operator">.</span><span class="Identifier">isSomething</span><span class="Punctuation">:</span>
    <span class="Identifier">raiseAssert</span> <span class="StringLit">&quot;Marcus should have no armor.&quot;</span>
  <span class="Identifier">armor</span><span class="Operator">.</span><span class="Identifier">isNothing</span><span class="Punctuation">:</span>
    <span class="Identifier">echo</span> <span class="StringLit">&quot;Marcus has no armor.&quot;</span>

  <span class="Identifier">spellbook</span><span class="Operator">.</span><span class="Identifier">isSomething</span><span class="Punctuation">:</span>
    <span class="Identifier">echo</span> <span class="StringLit">&quot;Marcus's spellbook contains: &quot;</span><span class="Punctuation">,</span> <span class="Identifier">value</span><span class="Operator">.</span><span class="Identifier">spells</span>
  <span class="Identifier">armor</span><span class="Operator">.</span><span class="Identifier">isNothing</span><span class="Punctuation">:</span>
    <span class="Identifier">raiseAssert</span> <span class="StringLit">&quot;Marcus should have a spellbook.&quot;</span></pre>
    <a href="git@github.com:RowDaBoat/vecs.git/tree/version-2-2/src/world.nim#L329" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="git@github.com:RowDaBoat/vecs.git/edit/devel/src/world.nim#L329" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="query-iterators-all">
  <div id="query.i,World,Query[T: tuple]">
  <dt><pre><span class="Keyword">iterator</span> <a href="#query.i%2CWorld%2CQuery%5BT%3A%20tuple%5D"><span class="Identifier">query</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">:</span> <span class="Keyword">tuple</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">world</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="world.html#World"><span class="Identifier">World</span></a><span class="Other">;</span> <span class="Identifier">query</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="queries.html#Query"><span class="Identifier">Query</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">T</span><span class="Other">.</span><span class="Identifier">accessTuple</span></pre></dt>
  <dd>
    
    <p>Query entities by components. Components are matched based on the query's type parameter.</p>
<p><strong>Accessors:</strong></p>
<ul class="simple"><li><strong>Read access</strong>: match entities that have the component for read only access. Just use the component's type.</li>
<li><strong>Write access</strong>: match entities that have the comoponent for write access. Use <tt class="docutils literal"><span class="pre"><span class="Identifier">Write</span><span class="Punctuation">[</span><span class="Identifier">Component</span><span class="Punctuation">]</span></span></tt>.</li>
<li><strong>Optional access</strong>: match entities that may or may not have the component. Use <tt class="docutils literal"><span class="pre"><span class="Identifier">Opt</span><span class="Punctuation">[</span><span class="Identifier">Component</span><span class="Punctuation">]</span></span></tt>, availability can be checked with <tt class="docutils literal"><span class="pre"><span class="Identifier">isSomething</span></span></tt> or <tt class="docutils literal"><span class="pre"><span class="Identifier">isNothing</span></span></tt>.</li>
<li><strong>Not access</strong>: match entities that do not have the component. Use <tt class="docutils literal"><span class="pre"><span class="Keyword">Not</span><span class="Punctuation">[</span><span class="Identifier">Component</span><span class="Punctuation">]</span></span></tt>.</li>
</ul>
<p>The iterated tuple's type is the same as the query's type parameter, except for:</p>
<ul class="simple"><li>the <tt class="docutils literal"><span class="pre"><span class="Keyword">Not</span></span></tt> accessors are excluded.</li>
<li>the <tt class="docutils literal"><span class="pre"><span class="Identifier">Write</span></span></tt> accessors are replaced with the component's type.</li>
</ul>
<p>Queries build a cache that is updated each time the query is used.</p>

<p><strong class="examples_text">Example:</strong></p>
<pre class="listing"><span class="Keyword">import</span> <span class="Identifier">examples</span>

<span class="Keyword">var</span> <span class="Identifier">w</span> <span class="Operator">=</span> <span class="Identifier">World</span><span class="Punctuation">(</span><span class="Punctuation">)</span>
<span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">addEntity</span> <span class="Punctuation">(</span><span class="Identifier">Character</span><span class="Punctuation">(</span><span class="Identifier">name</span><span class="Punctuation">:</span> <span class="StringLit">&quot;Marcus&quot;</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Identifier">Health</span><span class="Punctuation">(</span><span class="Identifier">health</span><span class="Punctuation">:</span> <span class="DecNumber">100</span><span class="Punctuation">,</span> <span class="Identifier">maxHealth</span><span class="Punctuation">:</span> <span class="DecNumber">100</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Identifier">Weapon</span><span class="Punctuation">(</span><span class="Identifier">name</span><span class="Punctuation">:</span> <span class="StringLit">&quot;Sword&quot;</span><span class="Punctuation">)</span><span class="Punctuation">)</span>
<span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">addEntity</span> <span class="Punctuation">(</span><span class="Identifier">Character</span><span class="Punctuation">(</span><span class="Identifier">name</span><span class="Punctuation">:</span> <span class="StringLit">&quot;Elena&quot;</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Identifier">Health</span><span class="Punctuation">(</span><span class="Identifier">health</span><span class="Punctuation">:</span> <span class="DecNumber">80</span><span class="Punctuation">,</span> <span class="Identifier">maxHealth</span><span class="Punctuation">:</span> <span class="DecNumber">80</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Identifier">Amulet</span><span class="Punctuation">(</span><span class="Identifier">name</span><span class="Punctuation">:</span> <span class="StringLit">&quot;Arcane Stone&quot;</span><span class="Punctuation">)</span><span class="Punctuation">)</span>
<span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">addEntity</span> <span class="Punctuation">(</span><span class="Identifier">Character</span><span class="Punctuation">(</span><span class="Identifier">name</span><span class="Punctuation">:</span> <span class="StringLit">&quot;Brom&quot;</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Identifier">Health</span><span class="Punctuation">(</span><span class="Identifier">health</span><span class="Punctuation">:</span> <span class="DecNumber">140</span><span class="Punctuation">,</span> <span class="Identifier">maxHealth</span><span class="Punctuation">:</span> <span class="DecNumber">140</span><span class="Punctuation">)</span><span class="Punctuation">,</span> <span class="Identifier">Armor</span><span class="Punctuation">(</span><span class="Identifier">name</span><span class="Punctuation">:</span> <span class="StringLit">&quot;Fur Armor&quot;</span><span class="Punctuation">)</span><span class="Punctuation">)</span>

<span class="Comment"># Query for characters, health with write access, an optional weapon, and no armor.</span>
<span class="Keyword">var</span> <span class="Identifier">query</span><span class="Punctuation">:</span> <span class="Identifier">Query</span><span class="Punctuation">[</span><span class="Punctuation">(</span><span class="Identifier">Character</span><span class="Punctuation">,</span> <span class="Identifier">Write</span><span class="Punctuation">[</span><span class="Identifier">Health</span><span class="Punctuation">]</span><span class="Punctuation">,</span> <span class="Identifier">Opt</span><span class="Punctuation">[</span><span class="Identifier">Weapon</span><span class="Punctuation">]</span><span class="Punctuation">,</span> <span class="Keyword">Not</span><span class="Punctuation">[</span><span class="Identifier">Armor</span><span class="Punctuation">]</span><span class="Punctuation">)</span><span class="Punctuation">]</span>

<span class="Keyword">for</span> <span class="Punctuation">(</span><span class="Identifier">character</span><span class="Punctuation">,</span> <span class="Identifier">health</span><span class="Punctuation">,</span> <span class="Identifier">weapon</span><span class="Punctuation">)</span> <span class="Keyword">in</span> <span class="Identifier">w</span><span class="Operator">.</span><span class="Identifier">query</span><span class="Punctuation">(</span><span class="Identifier">query</span><span class="Punctuation">)</span><span class="Punctuation">:</span>
  <span class="Identifier">health</span><span class="Operator">.</span><span class="Identifier">health</span> <span class="Operator">+=</span> <span class="DecNumber">10</span>
  <span class="Identifier">assert</span> <span class="Identifier">character</span><span class="Operator">.</span><span class="Identifier">name</span> <span class="Operator">!=</span> <span class="StringLit">&quot;Brom&quot;</span>

  <span class="Identifier">weapon</span><span class="Operator">.</span><span class="Identifier">isSomething</span><span class="Punctuation">:</span>
    <span class="Identifier">assert</span> <span class="Identifier">character</span><span class="Operator">.</span><span class="Identifier">name</span> <span class="Operator">==</span> <span class="StringLit">&quot;Marcus&quot;</span>
    <span class="Identifier">echo</span> <span class="Identifier">character</span><span class="Operator">.</span><span class="Identifier">name</span><span class="Punctuation">,</span> <span class="StringLit">&quot; has a weapon: &quot;</span><span class="Punctuation">,</span> <span class="Identifier">value</span><span class="Operator">.</span><span class="Identifier">name</span>

  <span class="Identifier">weapon</span><span class="Operator">.</span><span class="Identifier">isNothing</span><span class="Punctuation">:</span>
    <span class="Identifier">assert</span> <span class="Identifier">character</span><span class="Operator">.</span><span class="Identifier">name</span> <span class="Operator">==</span> <span class="StringLit">&quot;Elena&quot;</span>
    <span class="Identifier">echo</span> <span class="Identifier">character</span><span class="Operator">.</span><span class="Identifier">name</span><span class="Punctuation">,</span> <span class="StringLit">&quot; has no weapon.&quot;</span></pre>
    <a href="git@github.com:RowDaBoat/vecs.git/tree/version-2-2/src/world.nim#L494" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="git@github.com:RowDaBoat/vecs.git/edit/devel/src/world.nim#L494" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>

  </dl>
</div>
<div class="section" id="17">
  <h1><a class="toc-backref" href="#17">Macros</a></h1>
  <dl class="item">
    <div id="typeHash-macros-all">
  <div id="typeHash.m,typedesc[T]">
  <dt><pre><span class="Keyword">macro</span> <a href="#typeHash.m%2Ctypedesc%5BT%5D"><span class="Identifier">typeHash</span></a><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">(</span><span class="Identifier">typ</span><span class="Other">:</span> <span class="Identifier">typedesc</span><span class="Other">[</span><span class="Identifier">T</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">int</span></pre></dt>
  <dd>
    
    
    <a href="git@github.com:RowDaBoat/vecs.git/tree/version-2-2/src/world.nim#L25" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="git@github.com:RowDaBoat/vecs.git/edit/devel/src/world.nim#L25" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>

  </dl>
</div>

  </div>
</div>

      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br>
        <small style="color: var(--hint);">Made with Nim. Generated: 2026-01-10 14:39:30 UTC</small>
      </div>
    </div>
  </div>
  
</body>
</html>
